decl str grepcmd 'rg --column'

map global normal <c-p> :git-edit<space>
map global normal <c-a-p> :find<space>
map global normal '#' :comment-line<ret>

alias global nw tmux-new-window
alias global nv tmux-new-vertical
alias global nh tmux-new-horizontal

alias global rw tmux-repl-window
alias global rv tmux-repl-vertical
alias global rh tmux-repl-horizontal

set-option global indentwidth 2

add-highlighter global/ number-lines
add-highlighter global/ wrap

# Highlight search matches in italic
add-highlighter global/ dynregex '%reg{/}' 0:+i

colorscheme solarized

def find -params 1 -shell-script-candidates %{ find . -type f } %{ edit %arg{1} }

def git-edit -params 1 -shell-script-candidates %{ git ls-files } %{ edit %arg{1} }

hook global WinSetOption filetype=(rust) %{
    set global makecmd 'cargo'
}

# Trim trailing whitespaces
hook global BufWritePre .* %{ try %{ execute-keys -draft \%s\h+$<ret>d } }

eval %sh{kak-lsp --kakoune -s $kak_session}

try %{ source .kakrc.local }
